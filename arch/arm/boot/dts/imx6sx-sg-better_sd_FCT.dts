/*
 * Copyright (C) 2014 Freescale Semiconductor, Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

/dts-v1/;

#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/input/input.h>
#include "imx6sx-better_FCT.dtsi"

/ {
	model = "Freescale i.MX6 SoloX SG base Board";
	compatible = "fsl,imx6sx-sg", "fsl,imx6sx";

	aliases
	{
    };

	chosen 
	{
		stdout-path = &uart1;
	};

	memory 
	{
		linux,usable-memory = <0x80000000 0x20000000>;
	};
	
	pxp_v4l2_out 
	{
		compatible = "fsl,imx6sx-pxp-v4l2", "fsl,imx6sl-pxp-v4l2";
		status = "okay";
	};

	regulators
	{
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <0>;
/*
		reg_usb_otg1_vbus: usb_otg1_vbus
		{
			compatible = "regulator-fixed";
			reg = <1>;
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_usb_otg1_vbus>;
			regulator-name = "usb_otg1_vbus";
			regulator-min-microvolt = <5000000>;
			regulator-max-microvolt = <5000000>;
			gpio = <&gpio4 18 GPIO_ACTIVE_HIGH>;
			enable-active-high;
		};
		reg_usb_otg2_vbus: usb_otg2_vbus 
		{
			compatible = "regulator-fixed";
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_usb_otg2_vbus>;
			regulator-name = "usb_otg2_vbus";
			regulator-min-microvolt = <5000000>;
			regulator-max-microvolt = <5000000>;
			gpio = <&gpio4 22 GPIO_ACTIVE_HIGH>;
			enable-active-high;
		};
*/
		reg_psu_5v: regulator@3 
		{
			compatible = "regulator-fixed";
			reg = <3>;
			regulator-name = "PSU-5V0";
			regulator-min-microvolt = <5000000>;
			regulator-max-microvolt = <5000000>;
		};

		reg_vref_3v3: regulator@7 
		{
			compatible = "regulator-fixed";
			reg = <7>;
			regulator-name = "vref-3v3";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
		};
	};
};

&adc1 
{
	vref-supply = <&reg_vref_3v3>;
	status = "okay";
};

&adc2 
{
	vref-supply = <&reg_vref_3v3>;
	status = "okay";
};

&i2c2
{
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c2>;
	status = "okay";

};

&gpmi
{
	status = "disabled"; 
};

&ocram
{
	reg = <0x00901000 0xf000>;
};

&rpmsg
{
	vdev-nums = <1>;
	reg = <0xbfff0000 0x10000>;
	status = "okay";
};

&clks
{
	fsl,shared-clks-number = <0x23>;//<0x1A>;
	fsl,shared-clks-index = <IMX6SX_CLK_PLL2_BUS IMX6SX_CLK_PLL2_PFD0
			IMX6SX_CLK_PLL2_PFD2 IMX6SX_CLK_PLL3_USB_OTG
			IMX6SX_CLK_PLL3_PFD1 IMX6SX_CLK_PLL3_PFD2
			IMX6SX_CLK_PLL3_PFD3 IMX6SX_CLK_PLL4_AUDIO
			IMX6SX_CLK_PLL5_VIDEO
			IMX6SX_CLK_OCRAM IMX6SX_CLK_CAN1_SERIAL
			IMX6SX_CLK_CAN1_IPG IMX6SX_CLK_CAN2_SERIAL
			IMX6SX_CLK_CAN2_IPG IMX6SX_CLK_CANFD
			IMX6SX_CLK_ECSPI1 IMX6SX_CLK_ECSPI2
			IMX6SX_CLK_ECSPI3 IMX6SX_CLK_ECSPI4
			IMX6SX_CLK_ECSPI5 IMX6SX_CLK_QSPI1
			IMX6SX_CLK_QSPI2 IMX6SX_CLK_SSI1
			IMX6SX_CLK_SSI2 IMX6SX_CLK_SSI3
			IMX6SX_CLK_UART_SERIAL IMX6SX_CLK_UART_IPG
			IMX6SX_CLK_PERIPH_CLK2_SEL IMX6SX_CLK_DUMMY
			IMX6SX_CLK_I2C1 IMX6SX_CLK_I2C2
			IMX6SX_CLK_I2C3 IMX6SX_CLK_I2C4
			IMX6SX_CLK_EPIT1 IMX6SX_CLK_EPIT2>;
	fsl,shared-mem-addr = <0x91F000>;
	fsl,shared-mem-size = <0x1000>;
};

&pxp 
{
	status = "okay";
};

&snvs
{
	status = "okay";
};

&uart1
{
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart1>;
	status = "okay";
};

&usbotg1 
{
	pinctrl-names = "default";
	srp-disable;
	hnp-disable;
	adp-disable;
	dr_mode = "host";
	status = "okay";
};

&usbotg2
{
	pinctrl-names = "default";
	srp-disable;
	hnp-disable;
	adp-disable;
	dr_mode = "host";
	status = "okay";
};


&pcie 
{
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pcie>;

	reset-gpio = <&gpio7 9 0>;
	disable-gpio = <&gpio7 8 0>;

//	reset-gpio = <&gpio3 23 0>;
//	power-on-gpio = <&gpio3 24 0>;
//	disable-gpio = <&gpio4 2 0>;
	status = "okay";
};

&usdhc2 
{
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_usdhc2>;
	non-removable;
	no-1-8-v;
	keep-power-in-suspend;
	enable-sdio-wakeup;
	status = "okay";
};

&usdhc4 
{
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_usdhc4_1>;
	bus-width = <4>;
	non-removable;
	no-1-8-v;
	keep-power-in-suspend;
	enable-sdio-wakeup;
	status = "okay";
};

&iomuxc 
{
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_hog_1>;
	imx6x-sg 
	{
		pinctrl_hog_1: hoggrp-1
		{
			fsl,pins =
			<
				MX6SX_PAD_USB_H_DATA__GPIO7_IO_10	0x83030
			>;
		};

		pinctrl_pcie: pciegrp
		{
			fsl,pins =
			<
				MX6SX_PAD_LCD1_DATA23__GPIO3_IO_24    0x10b0
				MX6SX_PAD_NAND_CE1_B__GPIO4_IO_2      0x10b0
				MX6SX_PAD_LCD1_DATA22__GPIO3_IO_23    0x10b0     
			>;
		};

		pinctrl_uart1: uart1grp 
		{
			fsl,pins = 
			<
				MX6SX_PAD_GPIO1_IO04__UART1_TX		0x1b0b1
				MX6SX_PAD_GPIO1_IO05__UART1_RX		0x1b0b1
			>;
		};

		pinctrl_usdhc2: usdhc2grp 
		{
			fsl,pins = 
			<
				MX6SX_PAD_SD2_CMD__USDHC2_CMD		0x17059
				MX6SX_PAD_SD2_CLK__USDHC2_CLK		0x170f9
				MX6SX_PAD_SD2_DATA0__USDHC2_DATA0	0x17059
				MX6SX_PAD_SD2_DATA1__USDHC2_DATA1	0x17059
				MX6SX_PAD_SD2_DATA2__USDHC2_DATA2	0x17059
				MX6SX_PAD_SD2_DATA3__USDHC2_DATA3	0x17059
			>;
		};

		pinctrl_usdhc4_1: usdhc4grp-1 
		{
			fsl,pins = 
			<
				MX6SX_PAD_SD4_CMD__USDHC4_CMD           0x170D1
				MX6SX_PAD_SD4_CLK__USDHC4_CLK           0x100f9
				MX6SX_PAD_SD4_DATA0__USDHC4_DATA0       0x170D1
				MX6SX_PAD_SD4_DATA1__USDHC4_DATA1       0x170D1
				MX6SX_PAD_SD4_DATA2__USDHC4_DATA2       0x170D1
				MX6SX_PAD_SD4_DATA3__USDHC4_DATA3       0x170D1
				MX6SX_PAD_SD4_DATA4__USDHC4_DATA4       0x170D1
				MX6SX_PAD_SD4_DATA5__USDHC4_DATA5       0x170D1
				MX6SX_PAD_SD4_DATA6__USDHC4_DATA6       0x170D1
				MX6SX_PAD_SD4_DATA7__USDHC4_DATA7       0x170D1
				MX6SX_PAD_SD4_RESET_B__USDHC4_RESET_B   0x170D1
			>;
		};

		pinctrl_i2c2: i2c2grp 
		{
			fsl,pins = 
			<
				MX6SX_PAD_QSPI1B_DATA2__I2C2_SDA    0x4001b8b1                          
				MX6SX_PAD_QSPI1B_DATA3__I2C2_SCL    0x4001b8b1
			>;
		};

		pinctrl_fct: pinctrlfctgrp 
		{
			fsl,pins = 
			<
				MX6SX_PAD_GPIO1_IO00__GPIO1_IO_0 	0x17059
				MX6SX_PAD_GPIO1_IO01__GPIO1_IO_1 	0x17059

				MX6SX_PAD_GPIO1_IO02__GPIO1_IO_2	0x17059

				MX6SX_PAD_GPIO1_IO06__GPIO1_IO_6	0x17059
				MX6SX_PAD_GPIO1_IO07__GPIO1_IO_7	0x17059
				MX6SX_PAD_GPIO1_IO08__GPIO1_IO_8	0x17059
				MX6SX_PAD_GPIO1_IO09__GPIO1_IO_9	0x17059
				
				MX6SX_PAD_GPIO1_IO10__GPIO1_IO_10	0x17059
				
				MX6SX_PAD_GPIO1_IO11__GPIO1_IO_11	0x17059

				MX6SX_PAD_GPIO1_IO12__GPIO1_IO_12	0x17059
				MX6SX_PAD_GPIO1_IO13__GPIO1_IO_13	0x17059
				
				MX6SX_PAD_ENET1_COL__GPIO2_IO_0     0x17059
				MX6SX_PAD_ENET1_CRS__GPIO2_IO_1     0x17059
				MX6SX_PAD_ENET1_MDC__GPIO2_IO_2     0x17059
				MX6SX_PAD_ENET1_MDIO__GPIO2_IO_3    0x17059
				MX6SX_PAD_ENET1_RX_CLK__GPIO2_IO_4  0x17059
				MX6SX_PAD_ENET1_TX_CLK__GPIO2_IO_5  0x17059
				MX6SX_PAD_ENET2_COL__GPIO2_IO_6     0x17059
				MX6SX_PAD_ENET2_CRS__GPIO2_IO_7     0x17059
				MX6SX_PAD_ENET2_RX_CLK__GPIO2_IO_8  0x17059
				MX6SX_PAD_ENET2_TX_CLK__GPIO2_IO_9  0x17059
				MX6SX_PAD_KEY_COL0__GPIO2_IO_10     0x17059
				MX6SX_PAD_KEY_COL1__GPIO2_IO_11     0x17059
				MX6SX_PAD_KEY_COL2__GPIO2_IO_12     0x17059
				MX6SX_PAD_KEY_COL3__GPIO2_IO_13     0x17059
				MX6SX_PAD_KEY_COL4__GPIO2_IO_14     0x17059
				MX6SX_PAD_KEY_ROW0__GPIO2_IO_15     0x17059
				MX6SX_PAD_KEY_ROW1__GPIO2_IO_16     0x17059
				MX6SX_PAD_KEY_ROW2__GPIO2_IO_17     0x17059
				MX6SX_PAD_KEY_ROW3__GPIO2_IO_18     0x17059
				MX6SX_PAD_KEY_ROW4__GPIO2_IO_19		0x17059

 				MX6SX_PAD_LCD1_CLK__GPIO3_IO_0      0x17059
				MX6SX_PAD_LCD1_DATA01__GPIO3_IO_2   0x17059
				MX6SX_PAD_LCD1_DATA02__GPIO3_IO_3  	0x17059
				MX6SX_PAD_LCD1_DATA03__GPIO3_IO_4  	0x17059
				MX6SX_PAD_LCD1_DATA04__GPIO3_IO_5  	0x17059
				MX6SX_PAD_LCD1_DATA05__GPIO3_IO_6  	0x17059
				MX6SX_PAD_LCD1_DATA06__GPIO3_IO_7  	0x17059
				MX6SX_PAD_LCD1_DATA07__GPIO3_IO_8  	0x17059
				MX6SX_PAD_LCD1_DATA08__GPIO3_IO_9  	0x17059
				MX6SX_PAD_LCD1_DATA09__GPIO3_IO_10 	0x17059
				MX6SX_PAD_LCD1_DATA10__GPIO3_IO_11 	0x17059
				MX6SX_PAD_LCD1_DATA11__GPIO3_IO_12 	0x17059
				MX6SX_PAD_LCD1_DATA12__GPIO3_IO_13 	0x17059
				MX6SX_PAD_LCD1_DATA13__GPIO3_IO_14 	0x17059
				MX6SX_PAD_LCD1_DATA14__GPIO3_IO_15 	0x17059
				MX6SX_PAD_LCD1_DATA15__GPIO3_IO_16 	0x17059
				MX6SX_PAD_LCD1_DATA16__GPIO3_IO_17 	0x17059
				MX6SX_PAD_LCD1_DATA17__GPIO3_IO_18 	0x17059
				MX6SX_PAD_LCD1_DATA18__GPIO3_IO_19 	0x17059
				MX6SX_PAD_LCD1_DATA19__GPIO3_IO_20 	0x17059
				MX6SX_PAD_LCD1_DATA20__GPIO3_IO_21 	0x17059
				MX6SX_PAD_LCD1_DATA21__GPIO3_IO_22 	0x17059
				MX6SX_PAD_LCD1_DATA22__GPIO3_IO_23 	0x17059
				MX6SX_PAD_LCD1_DATA23__GPIO3_IO_24 	0x17059
				MX6SX_PAD_LCD1_ENABLE__GPIO3_IO_25 	0x17059
				MX6SX_PAD_LCD1_HSYNC__GPIO3_IO_26  	0x17059
				MX6SX_PAD_LCD1_RESET__GPIO3_IO_27  	0x17059
				MX6SX_PAD_LCD1_VSYNC__GPIO3_IO_28  	0x17059
    
				MX6SX_PAD_NAND_CE1_B__GPIO4_IO_2    0x17059   
				MX6SX_PAD_QSPI1A_DATA0__GPIO4_IO_16 0x17059
				MX6SX_PAD_QSPI1A_DATA1__GPIO4_IO_17 0x17059
				MX6SX_PAD_QSPI1A_DATA2__GPIO4_IO_18 0x17059
				MX6SX_PAD_QSPI1A_DATA3__GPIO4_IO_19 0x17059
				MX6SX_PAD_QSPI1A_DQS__GPIO4_IO_20   0x17059
				MX6SX_PAD_QSPI1A_SCLK__GPIO4_IO_21  0x17059
				MX6SX_PAD_QSPI1A_SS0_B__GPIO4_IO_22 0x17059
				MX6SX_PAD_QSPI1A_SS1_B__GPIO4_IO_23 0x17059
				MX6SX_PAD_QSPI1B_DATA0__GPIO4_IO_24 0x17059
				MX6SX_PAD_QSPI1B_DATA1__GPIO4_IO_25 0x17059
				MX6SX_PAD_QSPI1B_DATA2__GPIO4_IO_26 0x17059
				MX6SX_PAD_QSPI1B_DATA3__GPIO4_IO_27 0x17059
				MX6SX_PAD_QSPI1B_DQS__GPIO4_IO_28   0x17059
				MX6SX_PAD_QSPI1B_SCLK__GPIO4_IO_29  0x17059
				MX6SX_PAD_QSPI1B_SS0_B__GPIO4_IO_30 0x17059
				MX6SX_PAD_QSPI1B_SS1_B__GPIO4_IO_31 0x17059

				MX6SX_PAD_RGMII1_RD0__GPIO5_IO_0     0x17059 	
				MX6SX_PAD_RGMII1_RD1__GPIO5_IO_1     0x17059 
				MX6SX_PAD_RGMII1_RD2__GPIO5_IO_2     0x17059 
				MX6SX_PAD_RGMII1_RD3__GPIO5_IO_3     0x17059 
				MX6SX_PAD_RGMII1_RX_CTL__GPIO5_IO_4  0x17059 
				MX6SX_PAD_RGMII1_RXC__GPIO5_IO_5     0x17059 
				MX6SX_PAD_RGMII1_TD0__GPIO5_IO_6     0x17059 
				MX6SX_PAD_RGMII1_TD1__GPIO5_IO_7     0x17059 
				MX6SX_PAD_RGMII1_TD2__GPIO5_IO_8     0x17059 
				MX6SX_PAD_RGMII1_TD3__GPIO5_IO_9     0x17059
				MX6SX_PAD_RGMII1_TX_CTL__GPIO5_IO_10 0x17059
				MX6SX_PAD_RGMII1_TXC__GPIO5_IO_11    0x17059
				MX6SX_PAD_RGMII2_RD0__GPIO5_IO_12    0x17059
				MX6SX_PAD_RGMII2_RD1__GPIO5_IO_13    0x17059
				MX6SX_PAD_RGMII2_RD2__GPIO5_IO_14    0x17059
				MX6SX_PAD_RGMII2_RD3__GPIO5_IO_15    0x17059
				MX6SX_PAD_RGMII2_RX_CTL__GPIO5_IO_16 0x17059
				MX6SX_PAD_RGMII2_RXC__GPIO5_IO_17    0x17059
				MX6SX_PAD_RGMII2_TD0__GPIO5_IO_18    0x17059
				MX6SX_PAD_RGMII2_TD1__GPIO5_IO_19    0x17059
				MX6SX_PAD_RGMII2_TD2__GPIO5_IO_20    0x17059
				MX6SX_PAD_RGMII2_TD3__GPIO5_IO_21    0x17059
				MX6SX_PAD_RGMII2_TX_CTL__GPIO5_IO_22 0x17059
				MX6SX_PAD_RGMII2_TXC__GPIO5_IO_23    0x17059
    
				MX6SX_PAD_SD2_CLK__GPIO6_IO_6        0x17059	
				MX6SX_PAD_SD2_CMD__GPIO6_IO_7        0x17059
				MX6SX_PAD_SD2_DATA0__GPIO6_IO_8      0x17059
				MX6SX_PAD_SD2_DATA1__GPIO6_IO_9      0x17059
				MX6SX_PAD_SD2_DATA2__GPIO6_IO_10     0x17059
				MX6SX_PAD_SD2_DATA3__GPIO6_IO_11     0x17059
				MX6SX_PAD_SD4_CLK__GPIO6_IO_12       0x17059
				MX6SX_PAD_SD4_CMD__GPIO6_IO_13       0x17059
				MX6SX_PAD_SD4_DATA0__GPIO6_IO_14     0x17059
				MX6SX_PAD_SD4_DATA1__GPIO6_IO_15     0x17059
				MX6SX_PAD_SD4_DATA2__GPIO6_IO_16     0x17059
				MX6SX_PAD_SD4_DATA3__GPIO6_IO_17     0x17059
				MX6SX_PAD_SD4_DATA4__GPIO6_IO_18     0x17059
				MX6SX_PAD_SD4_DATA5__GPIO6_IO_19     0x17059
				MX6SX_PAD_SD4_DATA6__GPIO6_IO_20     0x17059
				MX6SX_PAD_SD4_DATA7__GPIO6_IO_21     0x17059

				MX6SX_PAD_SD3_CLK__GPIO7_IO_0        0x17059
				MX6SX_PAD_SD3_CMD__GPIO7_IO_1        0x17059
				MX6SX_PAD_SD3_DATA0__GPIO7_IO_2      0x17059
				MX6SX_PAD_SD3_DATA1__GPIO7_IO_3      0x17059
				MX6SX_PAD_SD3_DATA2__GPIO7_IO_4      0x17059
				MX6SX_PAD_SD3_DATA3__GPIO7_IO_5      0x17059
				MX6SX_PAD_SD3_DATA4__GPIO7_IO_6      0x17059
				MX6SX_PAD_SD3_DATA5__GPIO7_IO_7      0x17059
				MX6SX_PAD_SD3_DATA6__GPIO7_IO_8      0x17059
				MX6SX_PAD_SD3_DATA7__GPIO7_IO_9      0x17059
			>;
		};
	};
};
