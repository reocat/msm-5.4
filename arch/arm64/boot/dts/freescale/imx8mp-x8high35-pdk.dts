// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright (C) 2021 Shrirang Bagul <shrirang.bagul@canonical.com>
 */

/dts-v1/;

#include "dt-bindings/usb/pd.h"
#include "imx8mp-x8high35-som.dtsi"
#include <dt-bindings/reset/imx-hdmimix-reset.h>

/ {
	model = "Honeywell i.MX8MP X8High35 PDK";
	compatible = "Honeywell,x8high35-pdk", "fsl,imx8mp";

	aliases {
		rtc0 = &rtc;
		rtc1 = &snvs_rtc;
		isi0 = &isi_0;
		isi1 = &isi_1;
		csi0 = &mipi_csi_0;
		csi1 = &mipi_csi_1;
		isp0 = &isp_0;
		isp1 = &isp_1;

	};

	resmem: reserved-memory {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		/* used only by tuning tool, can be removed for normal case */
		isp0_reserved: isp0@94400000 {
			no-map;
			reg = <0 0x94400000 0 0x10000000>;
		};
	};

	beeper {
		compatible = "pwm-beeper";
		pwms = <&pwm3 0 5000000 0>;
	};

	chosen {
		stdout-path = &uart2;
	};

	firmware {
		optee {
			compatible = "linaro,optee-tz";
			method = "smc";
		};
	};


	leds {
		compatible = "gpio-leds";

		dl14 {
			label = "trouble";
			gpios = <&led_expander 0 GPIO_ACTIVE_LOW>;
		};

		dl15 {
			label = "bt-status";
			gpios = <&led_expander 1 GPIO_ACTIVE_LOW>;
		};

		dl16 {
			label = "panel-conn";
			gpios = <&led_expander 2 GPIO_ACTIVE_LOW>;
		};

		dl17 {
			label = "cloud-conn";
			gpios = <&led_expander 3 GPIO_ACTIVE_LOW>;
		};

		dl18 {
			label = "wifi-conn";
			gpios = <&led_expander 4 GPIO_ACTIVE_LOW>;
		};

		dl19 {
			label = "bte-conn";
			gpios = <&led_expander 5 GPIO_ACTIVE_LOW>;
		};

		dl20 {
			label = "add-on";
			gpios = <&led_expander 6 GPIO_ACTIVE_LOW>;
		};

		dl21 {
			label = "module-conn";
			gpios = <&led_expander 7 GPIO_ACTIVE_LOW>;
		};

		csi-gpio {
			label = "CSI_GPIO";
			gpios = <&gpio_exp_75 11 GPIO_ACTIVE_HIGH>;
			default-state = "on";
		};
	};

	power-domains {
		compatible = "simple-bus";

		/* MLMIX */
		mlmix_pd: mlmix-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <4>;
			domain-name = "mlmix";
			clocks = <&clk IMX8MP_CLK_ML_AXI>,
				 <&clk IMX8MP_CLK_ML_AHB>,
				 <&clk IMX8MP_CLK_NPU_ROOT>;
		};

		audiomix_pd: audiomix-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <5>;
			domain-name = "audiomix";
			clocks = <&clk IMX8MP_CLK_AUDIO_ROOT>,
				 <&clk IMX8MP_CLK_AUDIO_AXI_DIV>;
		};

		gpumix_pd: gpumix-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <6>;
			domain-name = "gpumix";
			clocks = <&clk IMX8MP_CLK_GPU_ROOT>, <&clk IMX8MP_CLK_GPU_AHB>,
				 <&clk IMX8MP_CLK_GPU_AXI>;
		};

		gpu2d_pd: gpu2d-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <7>;
			domain-name = "gpu2d";
			parent-domains = <&gpumix_pd>;
			clocks = <&clk IMX8MP_CLK_GPU2D_ROOT>;
		};

		gpu3d_pd: gpu3d-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <8>;
			domain-name = "gpu3d";
			parent-domains = <&gpumix_pd>;
			clocks = <&clk IMX8MP_CLK_GPU3D_ROOT>,
				 <&clk IMX8MP_CLK_GPU3D_SHADER_DIV>;
		};

		mediamix_pd: mediamix-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <13>;
			domain-name = "mediamix";
			clocks = <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
		};

		ispdwp_pd: power-domain@14 {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <14>;
			domain-name = "ispdwp";
			parent-domains = <&mediamix_pd>;
			clocks = <&clk IMX8MP_CLK_MEDIA_ISP_DIV>;
		};

		mipi_phy1_pd: mipiphy1-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <15>;
			domain-name = "mipi_phy1";
			parent-domains = <&mediamix_pd>;
		};

		mipi_phy2_pd: mipiphy2-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <16>;
			domain-name = "mipi_phy2";
			parent-domains = <&mediamix_pd>;
		};

		hdmimix_pd: hdmimix-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <17>;
			domain-name = "hdmimix";
			clocks = <&clk IMX8MP_CLK_HDMI_ROOT>,
				 <&clk IMX8MP_CLK_HDMI_APB>,
				 <&clk IMX8MP_CLK_HDMI_REF_266M>;
		};

		hdmi_phy_pd: hdmiphy-pd {
			compatible = "fsl,imx8m-pm-domain";
			#power-domain-cells = <0>;
			domain-index = <18>;
			domain-name = "hdmi_phy";
			parent-domains = <&hdmimix_pd>;
		};

	};

	bus@30c00000 { /* AIPS5 */
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;

		spba-bus@30c00000 {
			compatible = "fsl,spba-bus", "simple-bus";
			reg = <0x30c00000 0x100000>;
			#address-cells = <1>;
			#size-cells = <1>;
			ranges;

			sai3: sai@30c30000 {
				#sound-dai-cells = <0>;
				compatible = "fsl,imx8mq-sai";
				reg = <0x30c30000 0x10000>;
				interrupts = <GIC_SPI 50 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI3_IPG>,
				     <&clk IMX8MP_CLK_DUMMY>, <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI3_MCLK1>,
				     <&clk IMX8MP_CLK_DUMMY>, <&clk IMX8MP_CLK_DUMMY>;
				clock-names = "bus", "mclk0", "mclk1", "mclk2", "mclk3";
				dmas = <&sdma2 4 0x18 0>, <&sdma2 5 0x18 0>;
				dma-names = "rx", "tx";
				enable-mclk-early;
				status = "okay";
			};

			aud2htx: aud2htx@30cb0000 {
				compatible = "fsl,imx8mp-aud2htx";
				reg = <0x30cb0000 0x10000>;
				interrupts = <GIC_SPI 130 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&audiomix_clk IMX8MP_CLK_AUDIOMIX_AUD2HTX_IPG>;
				clock-names = "bus";
				dmas = <&sdma2 26 2 0>;
				dma-names = "tx";
				power-domains = <&audiomix_pd>;
				status = "okay";
			};
		};

		sdma2: dma-controller@30e10000 {
			compatible = "fsl,imx8mp-sdma", "fsl,imx8mq-sdma";
			reg = <0x30e10000 0x10000>;
			interrupts = <GIC_SPI 103 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk IMX8MP_CLK_AUDIO_ROOT>,
				 <&clk IMX8MP_CLK_AUDIO_AHB>;
			clock-names = "ipg", "ahb";
			#dma-cells = <3>;
			fsl,sdma-ram-script-name = "imx/sdma/sdma-imx7d.bin";
			fsl,ratio-1-1;
			power-domains = <&audiomix_pd>;
			status = "okay";
		};

		audiomix: audiomix@30e20000 {
			compatible = "fsl,imx8mp-audiomix";
			reg = <0x30e20000 0x10000>;

			audiomix_clk: clock-controller {
				compatible = "fsl,imx8mp-audiomix-clk";
				#clock-cells = <1>;
				clocks = <&clk IMX8MP_CLK_AUDIO_ROOT>;
				clock-names = "audio_root";
				power-domains = <&audiomix_pd>;
			};

			audiomix_reset: reset-controller {
				compatible = "fsl,imx8mp-audiomix-reset";
				power-domains = <&audiomix_pd>;
				#reset-cells = <1>;
			};

			audiomix_dsp: audiomix_dsp {
				compatible = "fsl,audiomix-dsp";
			};
		};
	};

	aips4: bus@32c00000 {
		compatible = "simple-bus";
		reg = <0x32c00000 0x400000>;
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;

		mipi_dsi: mipi_dsi@32e60000 {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "fsl,imx8mp-mipi-dsim";
			reg = <0x32e60000 0x10000>;
			clocks = <&clk IMX8MP_CLK_MEDIA_APB_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_MIPI_PHY1_REF>;
			clock-names = "cfg", "pll-ref";
			assigned-clocks = <&clk IMX8MP_CLK_MEDIA_MIPI_PHY1_REF>;
			assigned-clock-parents = <&clk IMX8MP_CLK_24M>;
			assigned-clock-rates = <12000000>;
			interrupts = <GIC_SPI 18 IRQ_TYPE_LEVEL_HIGH>;
			power-domains = <&mipi_phy1_pd>;
			blk-ctl = <&mediamix_blk_ctl>;
			status = "disabled";

			port@0 {
				dsim_from_lcdif: endpoint {
					remote-endpoint = <&lcdif_to_dsim>;
				};
			};
		};

		lcdif1: lcd-controller@32e80000 {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "fsl,imx8mp-lcdif1";
			reg = <0x32e80000 0x10000>;
			clocks = <&clk IMX8MP_CLK_MEDIA_DISP1_PIX_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
			clock-names = "pix", "disp-axi", "disp-apb";
			assigned-clocks = <&clk IMX8MP_CLK_MEDIA_DISP1_PIX>,
					  <&clk IMX8MP_CLK_MEDIA_AXI>,
					  <&clk IMX8MP_CLK_MEDIA_APB>;
			assigned-clock-parents = <&clk IMX8MP_VIDEO_PLL1_OUT>,
						 <&clk IMX8MP_SYS_PLL2_1000M>,
						 <&clk IMX8MP_SYS_PLL1_800M>;
			assigned-clock-rates = <0>, <500000000>, <200000000>;
			interrupts = <GIC_SPI 5 IRQ_TYPE_LEVEL_HIGH>;
			blk-ctl = <&mediamix_blk_ctl>;
			power-domains = <&mediamix_pd>;
			status = "disabled";

			lcdif1_disp: port@0 {
				reg = <0>;

				lcdif_to_dsim: endpoint {
					remote-endpoint = <&dsim_from_lcdif>;
				};
			};
		};

		mediamix_blk_ctl: blk-ctl@32ec0000 {
			compatible = "fsl,imx8mp-mediamix-blk-ctl",
				     "syscon";
			reg = <0x32ec0000 0x10000>;
			clocks = <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
		};

		ldb: ldb@32ec005c {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "fsl,imx8mp-ldb";
			clocks = <&clk IMX8MP_CLK_MEDIA_LDB_ROOT>;
			clock-names = "ldb";
			assigned-clocks = <&clk IMX8MP_CLK_MEDIA_LDB>;
			assigned-clock-parents = <&clk IMX8MP_VIDEO_PLL1_OUT>;
			gpr = <&mediamix_blk_ctl>;
			power-domains = <&mediamix_pd>;
			status = "disabled";

			lvds-channel@0 {
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;
				phys = <&ldb_phy1>;
				phy-names = "ldb_phy";
				status = "disabled";

				port@0 {
					reg = <0>;

					ldb_ch0: endpoint {
						remote-endpoint = <&lcdif2_disp_ldb_ch0>;
					};
				};
			};

			lvds-channel@1 {
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <1>;
				phys = <&ldb_phy2>;
				phy-names = "ldb_phy";
				status = "disabled";

				port@0 {
					reg = <0>;

					ldb_ch1: endpoint {
						remote-endpoint = <&lcdif2_disp_ldb_ch1>;
					};
				};
			};
		};

		lcdif2: lcd-controller@32e90000 {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "fsl,imx8mp-lcdif2";
			reg = <0x32e90000 0x10000>;
			clocks = <&clk IMX8MP_CLK_MEDIA_DISP2_PIX_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
				 <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
			clock-names = "pix", "disp-axi", "disp-apb";
			assigned-clocks = <&clk IMX8MP_CLK_MEDIA_DISP2_PIX>,
					  <&clk IMX8MP_CLK_MEDIA_AXI>,
					  <&clk IMX8MP_CLK_MEDIA_APB>;
			assigned-clock-parents = <&clk IMX8MP_VIDEO_PLL1_OUT>,
						 <&clk IMX8MP_SYS_PLL2_1000M>,
						 <&clk IMX8MP_SYS_PLL1_800M>;
			assigned-clock-rates = <0>, <500000000>, <200000000>;
			interrupts = <GIC_SPI 6 IRQ_TYPE_LEVEL_HIGH>;
			power-domains = <&mediamix_pd>;
			status = "disabled";

			lcdif2_disp: port@0 {
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;

				lcdif2_disp_ldb_ch0: endpoint@0 {
					reg = <0>;
					remote-endpoint = <&ldb_ch0>;
				};

				lcdif2_disp_ldb_ch1: endpoint@1 {
					reg = <1>;
					remote-endpoint = <&ldb_ch1>;
				};
			};
		};

		/* TODO for HDMI PHY power on */
		hdmi_blk: hdmi-blk@32fc0000 {
			compatible = "syscon";
			reg = <0x32fc0000 0x1000>;
		};

		hdmimix: hdmimix@32fc0000 {
			compatible = "fsl,imx8mp-audiomix", "fsl,imx8mp-hdmimix";
			reg = <0x32fc0000 0x1000>;

			hdmimix_clk: clock-controller {
				compatible = "fsl,imx8mp-hdmimix-clk";
				#clock-cells = <1>;
				clocks = <&clk IMX8MP_CLK_DUMMY>;
				clock-names = "dummy";
				status = "disabled";
			};

			hdmimix_reset: reset-controller {
				compatible = "fsl,imx8mp-hdmimix-reset";
				#reset-cells = <1>;
				status = "disabled";
			};
		};

		irqsteer_hdmi: irqsteer@32fc2000 {
			compatible = "fsl,imx-irqsteer";
			reg = <0x32fc2000 0x1000>;
			interrupts = <GIC_SPI 43 IRQ_TYPE_LEVEL_HIGH>;
			interrupt-controller;
			interrupt-parent = <&gic>;
			#interrupt-cells = <1>;
			fsl,channel = <1>;
			fsl,num-irqs = <64>;
			clocks = <&hdmimix_clk IMX8MP_CLK_HDMIMIX_IRQS_STEER_CLK>;
			clock-names = "ipg";
			assigned-clocks = <&clk IMX8MP_CLK_HDMI_APB>;
			assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_800M>;
			assigned-clock-rates = <200000000>;
			resets = <&hdmimix_reset IMX_HDMIMIX_IRQ_STEER_RESET>;
			status = "disabled";
		};

		hdmi_pavi: hdmi-pai-pvi@32fc4000 {
			compatible = "fsl,imx8mp-hdmi-pavi";
			reg = <0x32fc4000 0x1000>;
			clocks = <&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_VID_LINK_PIX_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_GPA_CLK>;
			clock-names = "pvi_clk", "pai_clk";
			resets = <&hdmimix_reset IMX_HDMIMIX_HDMI_PAI_RESET>,
					<&hdmimix_reset IMX_HDMIMIX_HDMI_PVI_RESET>;
			reset-names = "pai_rst", "pvi_rst";
			status = "disabled";
		};

		lcdif3: lcd-controller@32fc6000 {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "fsl,imx8mp-lcdif3";
			reg = <0x32fc6000 0x10000>;
			clocks = <&hdmiphy 0>,
					<&clk IMX8MP_CLK_HDMI_AXI>,
					<&clk IMX8MP_CLK_HDMI_APB>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_GLOBAL_APB_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_GLOBAL_B_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_GLOBAL_XTAL24M_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_GLOBAL_TX_PIX_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_LCDIF_APB_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_LCDIF_B_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_LCDIF_PDI_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_LCDIF_PIX_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_LCDIF_SPU_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_NOC_HDMI_CLK>;
			clock-names = "pix", "disp-axi", "disp-apb",
						"mix_apb","mix_axi", "xtl_24m", "mix_pix", "lcdif_apb",
						"lcdif_axi", "lcdif_pdi", "lcdif_pix", "lcdif_spu",
						"noc_hdmi";
			assigned-clocks =  <&clk IMX8MP_CLK_HDMI_AXI>,
							<&clk IMX8MP_CLK_HDMI_APB>;
			assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_500M>,
						 <&clk IMX8MP_SYS_PLL1_800M>;
			assigned-clock-rates = <500000000>, <200000000>;
			interrupts = <8 IRQ_TYPE_LEVEL_HIGH>;
			interrupt-parent = <&irqsteer_hdmi>;
			resets = <&hdmimix_reset IMX_HDMIMIX_LCDIF_RESET>;
			power-domains = <&hdmimix_pd>;
			status = "disabled";

			lcdif3_disp: port@0 {
				reg = <0>;

				lcdif3_to_hdmi: endpoint {
					remote-endpoint = <&hdmi_from_lcdif3>;
				};
			};
		};

		hdmi: hdmi@32fd8000 {
			compatible = "fsl,imx8mp-hdmi";
			reg = <0x32fd8000 0x7eff>;
			interrupts = <0 IRQ_TYPE_LEVEL_HIGH>;
			interrupt-parent = <&irqsteer_hdmi>;
			clocks = <&clk IMX8MP_CLK_HDMI_APB>,
					<&clk IMX8MP_CLK_HDMI_24M>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_PHY_INT_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_PREP_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_SKP_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_SFR_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_PIXEL_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_CEC_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_APB_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_HPI_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_FDCC_REF_CLK>,
					<&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_PIPE_CLK_SEL>;
			clock-names = "iahb", "isfr",
							"phy_int", "prep_clk", "skp_clk", "sfr_clk", "pix_clk",
							"cec_clk", "apb_clk", "hpi_clk", "fdcc_ref", "pipe_clk";
			assigned-clocks = <&clk IMX8MP_CLK_HDMI_APB>,
						<&clk IMX8MP_CLK_HDMI_AXI>,
						<&clk IMX8MP_CLK_HDMI_24M>;
			assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_800M>,
						<&clk IMX8MP_SYS_PLL2_500M>,
						<&clk IMX8MP_CLK_24M>;
			assigned-clock-rates = <200000000>, <500000000>, <24000000>;
			phys = <&hdmiphy>;
			phy-names = "hdmi";
			resets = <&hdmimix_reset IMX_HDMIMIX_HDMI_TX_RESET>;
			gpr = <&hdmi_blk>;
			power-domains = <&hdmi_phy_pd>;
			status = "disabled";

			port@0 {
				hdmi_from_lcdif3: endpoint {
					remote-endpoint = <&lcdif3_to_hdmi>;
				};
			};
		};

		hdmiphy: hdmiphy@32fdff00 {
			compatible = "fsl,samsung-hdmi-phy";
			reg = <0x32fdff00 0x100>;
			#clock-cells = <1>;
			clocks = <&hdmimix_clk IMX8MP_CLK_HDMIMIX_TX_PHY_APB_CLK>,
				<&hdmimix_clk IMX8MP_CLK_HDMIMIX_GLOBAL_XTAL24M_CLK>;
			clock-names = "apb", "ref";
			clock-output-names = "hdmi_phy";
			#phy-cells = <0>;
			resets = <&hdmimix_reset IMX_HDMIMIX_HDMI_PHY_RESET>;
			status = "disabled";
		};

		ldb_phy: phy@32ec0128 {
			compatible = "fsl,imx8mp-lvds-phy";
			#address-cells = <1>;
			#size-cells = <0>;
			gpr = <&mediamix_blk_ctl>;
			clocks = <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
			clock-names = "apb";
			power-domains = <&mediamix_pd>;
			status = "disabled";

			ldb_phy1: port@0 {
				reg = <0>;
				#phy-cells = <0>;
			};

			ldb_phy2: port@1 {
				reg = <1>;
				#phy-cells = <0>;
			};
		};

		mediamix_gasket0: gasket@32ec0060 {
			compatible = "fsl,imx8mp-iomuxc-gpr", "syscon";
			reg = <0x32ec0060 0x28>;
		};

		mediamix_gasket1: gasket@32ec0090 {
			compatible = "fsl,imx8mp-iomuxc-gpr", "syscon";
			reg = <0x32ec0090 0x28>;
		};

		mediamix_gpr: media_gpr@32ec0008 {
			compatible = "fsl,imx8mp-iomuxc-gpr", "syscon";
			reg = <0x32ec0008 0x4>;
		};

		isi_chain_buf: isi_chain@32e02000{
			compatible = "fsl,imx8mp-iomuxc-gpr", "syscon";
			reg = <0x32e02000 0x4>;
		};

		cameradev: camera {
			compatible = "fsl,mxc-md", "simple-bus";
			#address-cells = <1>;
			#size-cells = <1>;
			ranges;
			status = "disabled";

			isi_0: isi@32e00000 {
				compatible = "fsl,imx8mp-isi", "fsl,imx8mn-isi";
				reg = <0x32e00000 0x2000>;
				interrupts = <GIC_SPI 16 IRQ_TYPE_LEVEL_HIGH>;
				interface = <2 0 2>;
				clocks = <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>,
					 <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
					 <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
				clock-names = "disp_axi", "disp_apb", "disp_axi_root", "disp_apb_root";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
						  <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
				assigned-clock-rates = <500000000>, <200000000>;
				no-reset-control;
				power-domains = <&mediamix_pd>;
				isi_chain = <&isi_chain_buf>;
				status = "disabled";

				cap_device {
					compatible = "imx-isi-capture";
					status = "disabled";
				};

				m2m_device{
					compatible = "imx-isi-m2m";
					status = "disabled";
				};
			};

			isi_1: isi@32e02000 {
				compatible = "fsl,imx8mp-isi", "fsl,imx8mn-isi";
				reg = <0x32e02000 0x2000>;
				interrupts = <GIC_SPI 42 IRQ_TYPE_LEVEL_HIGH>;
				interface = <3 0 2>;
				clocks = <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>,
					 <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
					 <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
				clock-names = "disp_axi", "disp_apb", "disp_axi_root", "disp_apb_root";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
						  <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
				assigned-clock-rates = <500000000>, <200000000>;
				no-reset-control;
				power-domains = <&mediamix_pd>;
				status = "disabled";

				cap_device {
					compatible = "imx-isi-capture";
					status = "disabled";
				};
			};

			isp_0: isp@32e10000 {
				compatible = "fsl,imx8mp-isp";
				reg = <0x32e10000 0x10000>;
				interrupts = <GIC_SPI 74 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clk IMX8MP_CLK_MEDIA_ISP_SRC>,
					 <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>;
				clock-names = "core", "axi", "ahb";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_ISP_SRC>;
				assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_500M>;
				assigned-clock-rates = <500000000>;
				power-domains = <&ispdwp_pd>;
				id = <0>;
				gpr = <&mediamix_blk_ctl>;
				memory-region = <&isp0_reserved>;
				status = "disabled";
			};

			isp_1: isp@32e20000 {
				compatible = "fsl,imx8mp-isp";
				reg = <0x32e20000 0x10000>;
				interrupts = <GIC_SPI 75 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clk IMX8MP_CLK_MEDIA_ISP_SRC>,
					 <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>;
				clock-names = "core", "axi", "ahb";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_ISP_SRC>;
				assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_500M>;
				assigned-clock-rates = <500000000>;
				power-domains = <&ispdwp_pd>;
				id = <1>;
				gpr = <&mediamix_blk_ctl>;
				status = "disabled";
			};

			dewarp: dwe@32e30000 {
				compatible = "fsl,imx8mp-dwe";
				reg = <0x32e30000 0x10000>;
				interrupts = <GIC_SPI 100 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>;
				clock-names = "core", "axi", "ahb";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_AXI_ROOT>,
						  <&clk IMX8MP_CLK_MEDIA_APB_ROOT>;
				assigned-clock-rates = <500000000>, <200000000>;
				power-domains = <&ispdwp_pd>;
				id = <0>;
				status = "disabled";
			};

			mipi_csi_0: csi@32e40000 {
				compatible = "fsl,imx8mp-mipi-csi", "fsl,imx8mn-mipi-csi";
				reg = <0x32e40000 0x10000>;
				interrupts = <GIC_SPI 17 IRQ_TYPE_LEVEL_HIGH>;
				clock-frequency = <500000000>;
				clocks = <&clk IMX8MP_CLK_MEDIA_CAM1_PIX>,
					 <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>;
				clock-names = "mipi_clk", "disp_axi", "disp_apb";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_CAM1_PIX>;
				assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_1000M>;
				assigned-clock-rates = <500000000>;
				bus-width = <4>;
				csi-gpr = <&mediamix_gasket0>;
				gpr = <&mediamix_blk_ctl>;
				no-reset-control;
				power-domains = <&mipi_phy1_pd>;
				status = "disabled";
			};

			mipi_csi_1: csi@32e50000 {
				compatible = "fsl,imx8mp-mipi-csi", "fsl,imx8mn-mipi-csi";
				reg = <0x32e50000 0x10000>;
				interrupts = <GIC_SPI 80 IRQ_TYPE_LEVEL_HIGH>;
				clock-frequency = <266000000>;
				clocks = <&clk IMX8MP_CLK_MEDIA_CAM2_PIX>,
					 <&clk IMX8MP_CLK_MEDIA_AXI>,
					 <&clk IMX8MP_CLK_MEDIA_APB>;
				clock-names = "mipi_clk", "disp_axi", "disp_apb";
				assigned-clocks = <&clk IMX8MP_CLK_MEDIA_CAM2_PIX>;
				assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_266M>;
				assigned-clock-rates = <266000000>;
				bus-width = <4>;
				csi-gpr = <&mediamix_gasket1>;
				gpr = <&mediamix_blk_ctl>;
				no-reset-control;
				power-domains = <&mipi_phy2_pd>;
				status = "disabled";
			};
		};
	};

	sound-hdmi {
		compatible = "fsl,imx-audio-cdnhdmi";
		model = "audio-hdmi";
		audio-cpu = <&aud2htx>;
		hdmi-out;
		constraint-rate = <44100>,
				<88200>,
				<176400>,
				<32000>,
				<48000>,
				<96000>,
				<192000>;
		status = "okay";
	};

	sound-sgtl5000 {
		compatible = "fsl,imx-audio-sgtl5000";
		model = "imx6ul-sgtl5000";
		audio-cpu = <&sai3>;
		audio-codec = <&codec>;
		audio-routing =
			"MIC_IN", "Mic Jack",
			"Mic Jack", "Mic Bias",
			"Headphone Jack", "HP_OUT";
		status = "okay";
	};

	reg_usb1_host_vbus: regulator-usb1-vbus {
		compatible = "regulator-fixed";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_usb1_vbus>;
		regulator-name = "usb1_host_vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		gpio = <&gpio1 11 GPIO_ACTIVE_HIGH>;
		enable-active-high;
		regulator-always-on;
		status = "disabled";
	};

	reg_usb2_host_vbus: regulator-usb2-vbus {
		compatible = "regulator-fixed";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_usb2_vbus>;
		regulator-name = "usb1_host_vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		gpio = <&gpio1 14 GPIO_ACTIVE_HIGH>;
		enable-active-high;
		regulator-always-on;
		status = "disabled";
	};

	reg_wifi_power: regulator-wifi-power {
		compatible = "regulator-fixed";
		regulator-name = "wifi_power";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		gpio = <&gpio3 24 GPIO_ACTIVE_HIGH>;
		enable-active-high;
		regulator-always-on;
		startup-delay-us = <10000>;
		off-on-delay-us = <12000>;
	};

	reg_usdhc2_vmmc: regulator-usdhc2-vmmc {
		compatible = "regulator-fixed";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_reg_usdhc2_vmmc>;
		regulator-name = "VSD_3V3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		gpio = <&gpio2 19 GPIO_ACTIVE_HIGH>;
		enable-active-high;
	};

	reg_v_1v8: regulator-v-1v8 {
		compatible = "regulator-fixed";
		regulator-name = "v_1v8";
		regulator-max-microvolt = <1800000>;
		regulator-min-microvolt = <1800000>;
		regulator-always-on;
	};

        reg_2p8v: regulator-2p8v {
                compatible = "regulator-fixed";
                regulator-name = "imx219_vana";
                regulator-min-microvolt = <2800000>;
                regulator-max-microvolt = <2800000>;
        };

        reg_1p8v: regulator-1p8v {
                compatible = "regulator-fixed";
                regulator-name = "imx219_vdig";
                regulator-min-microvolt = <1800000>;
                regulator-max-microvolt = <1800000>;
        };

        reg_1p2v: regulator-1p2v {
                compatible = "regulator-fixed";
                regulator-name = "imx219_vddl";
                regulator-min-microvolt = <1200000>;
                regulator-max-microvolt = <1200000>;
        };

	reg_v_3v3: regulator-v-3v3 {
		compatible = "regulator-fixed";
		regulator-name = "v_3v3";
		regulator-max-microvolt = <3300000>;
		regulator-min-microvolt = <3300000>;
		regulator-always-on;
	};

	reg_v_5v0: regulator-v-5v0 {
		compatible = "regulator-fixed";
		regulator-name = "v_5v0";
		regulator-max-microvolt = <5000000>;
		regulator-min-microvolt = <5000000>;
		regulator-always-on;
	};

	gpu_3d: gpu3d@38000000 {
		compatible = "fsl,imx8-gpu";
		reg = <0x0 0x38000000 0x0 0x8000>;
		interrupts = <GIC_SPI 3 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&clk IMX8MP_CLK_GPU3D_ROOT>,
			 <&clk IMX8MP_CLK_GPU3D_SHADER_DIV>,
			 <&clk IMX8MP_CLK_GPU_AXI>,
			 <&clk IMX8MP_CLK_GPU_AHB>;
		clock-names = "core", "shader", "axi", "ahb";
		assigned-clocks = <&clk IMX8MP_CLK_GPU3D_CORE_SRC>,
				  <&clk IMX8MP_CLK_GPU3D_SHADER_SRC>,
				  <&clk IMX8MP_CLK_GPU_AXI>,
				  <&clk IMX8MP_CLK_GPU_AHB>;
		assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_1000M>,
					 <&clk IMX8MP_SYS_PLL2_1000M>,
					 <&clk IMX8MP_SYS_PLL1_800M>,
					 <&clk IMX8MP_SYS_PLL1_800M>;
		assigned-clock-rates = <1000000000>, <1000000000>,
				       <800000000>, <400000000>;
		power-domains = <&gpu3d_pd>;
		status = "disabled";
	};

	gpu_2d: gpu2d@38008000 {
		compatible = "fsl,imx8-gpu";
		reg = <0x0 0x38008000 0x0 0x8000>;
		interrupts = <GIC_SPI 25 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&clk IMX8MP_CLK_GPU2D_ROOT>,
			 <&clk IMX8MP_CLK_GPU_AXI>,
			 <&clk IMX8MP_CLK_GPU_AHB>;
		clock-names = "core", "axi", "ahb";
		assigned-clocks = <&clk IMX8MP_CLK_GPU2D_SRC>,
				  <&clk IMX8MP_CLK_GPU_AXI>,
				  <&clk IMX8MP_CLK_GPU_AHB>;
		assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_1000M>,
					 <&clk IMX8MP_SYS_PLL1_800M>,
					 <&clk IMX8MP_SYS_PLL1_800M>;
		assigned-clock-rates = <1000000000>, <800000000>, <400000000>;
		power-domains = <&gpu2d_pd>;
		status = "disabled";
	};

	ml_vipsi: vipsi@38500000 {
		compatible = "fsl,imx8-gpu", "fsl,imx8-vipsi";
		reg = <0x0 0x38500000 0x0 0x20000>;
		interrupts = <GIC_SPI 13 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&clk IMX8MP_CLK_NPU_ROOT>,
				<&clk IMX8MP_CLK_NPU_ROOT>,
				<&clk IMX8MP_CLK_ML_AXI>,
				<&clk IMX8MP_CLK_ML_AHB>;
		clock-names = "core", "shader", "axi", "ahb";
		assigned-clocks = <&clk IMX8MP_CLK_ML_SRC>,
				  <&clk IMX8MP_CLK_ML_AXI>,
				  <&clk IMX8MP_CLK_ML_AHB>;
		assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_1000M>,
					 <&clk IMX8MP_SYS_PLL1_800M>,
					 <&clk IMX8MP_SYS_PLL1_800M>;
		assigned-clock-rates = <1000000000>, <800000000>, <400000000>;
		power-domains = <&mlmix_pd>;
		status = "disabled";
	};

	mix_gpu_ml: mix_gpu_ml {
		compatible = "fsl,imx8mp-gpu", "fsl,imx8-gpu-ss";
		cores = <&gpu_3d>, <&ml_vipsi>, <&gpu_2d>;
		reg = <0x0 0x40000000 0x0 0xC0000000>, <0x0 0x0 0x0 0x10000000>;
		reg-names = "phys_baseaddr", "contiguous_mem";
		status = "disabled";
	};

	display-subsystem {
		compatible = "fsl,imx-display-subsystem";
		ports = <&lcdif1_disp>,
			<&lcdif2_disp>,
			<&lcdif3_disp>;
	};

};

&irqsteer_hdmi {
	status = "okay";
};

&hdmimix_clk {
	status = "okay";
};

&hdmimix_reset {
	status = "okay";
};

&hdmi_pavi {
	status = "okay";
};

&hdmi {
	status = "okay";
};

&hdmiphy {
	status = "okay";
};

&lcdif1 {
	status = "okay";
};

&lcdif2 {
	status = "okay";
};

&lcdif3 {
	status = "okay";

	thres-low  = <1 2>;             /* (FIFO * 1 / 2) */
	thres-high = <3 4>;             /* (FIFO * 3 / 4) */
};

&gpu_3d {
       status = "okay";
};

&gpu_2d {
       status = "okay";
};

&ml_vipsi {
       status = "okay";
};

&mix_gpu_ml {
       status = "okay";
};

&mipi_dsi {
	status = "okay";

	port@1 {
		dsim_to_adv7535: endpoint {
			remote-endpoint = <&adv7535_from_dsim>;
			attach-bridge;
		};
	};
};

&ecspi1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_ecspi1
		&pinctrl_uart_exp1_int &pinctrl_uart_exp2_int>;
	cs-gpios = <&gpio5 9 GPIO_ACTIVE_LOW>,
		<&gpio1 1 GPIO_ACTIVE_LOW>;
	num-cs = <2>;
	status = "okay";

	#address-cells = <1>;
	#size-cells = <0>;

	uart_exp1@0 {
		compatible = "nxp,sc16is752";
		reg = <0x0>;
		interrupt-parent = <&gpio4>;
		interrupts = <0 IRQ_TYPE_EDGE_FALLING>;
		clock-frequency = <14745600>;
		spi-max-frequency = <2000000>;
    };

	uart_exp2@1 {
		compatible = "nxp,sc16is752";
		reg = <0x1>;
		interrupt-parent = <&gpio4>;
		interrupts = <19 IRQ_TYPE_EDGE_FALLING>;
		clock-frequency = <14745600>;
		spi-max-frequency = <2000000>;
    };
};

&ecspi2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_ecspi2>;
	cs-gpios = <&gpio5 13 GPIO_ACTIVE_LOW>;
	num-cs = <1>;
	status = "okay";

	#address-cells = <1>;
	#size-cells = <0>;

	spidev@1 {
		compatible = "rohm,dh2228fv";
		spi-max-frequency = <500000>;
		reg = <1>;
	};
};

&eqos {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_eqos>;
	phy-mode = "rgmii-id";
	phy-reset-gpios = <&gpio4 22 GPIO_ACTIVE_LOW>;
	phy-handle = <&ethphy1>;
	nvmem-cells = <&eth_mac2>;
	nvmem-cell-names = "mac-address";
	nvmem_macaddr_swap;
	status = "okay";

	mdio {
		compatible = "snps,dwmac-mdio";
		#address-cells = <1>;
		#size-cells = <0>;

		ethphy1: ethernet-phy@2 {
			compatible = "ethernet-phy-ieee802.3-c22";
			reg = <2>;
			eee-broken-1000t;
			eee-broken-100tx;
			eee-broken-10gt;
		};
	};
};

&fec {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_fec>;
	phy-mode = "rgmii-id";
	phy-reset-gpios = <&gpio4 2 GPIO_ACTIVE_LOW>;
	phy-handle = <&ethphy0>;
	fsl,magic-packet;
	status = "okay";

	mdio {
		#address-cells = <1>;
		#size-cells = <0>;

		ethphy0: ethernet-phy@1 {
			compatible = "ethernet-phy-ieee802.3-c22";
			reg = <1>;
			eee-broken-1000t;
			eee-broken-100tx;
			eee-broken-10gt;
			micrel,led-mode = <1>;
		};
	};
};

&flexspi {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_flexspi0>;
	status = "okay";

	spidev@0 {
		compatible = "rohm,dh2228fv";
		spi-max-frequency = <20000000>;
		reg = <0>;
		status = "no";
	};

	/*	Winbond 25Q128JWSIQ SPI NOR flash	*/
	flash: w25q128@0 {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "jedec,spi-nor";
		m25p,fast-read;
		spi-tx-bus-width = <1>;
		spi-rx-bus-width = <4>;
		spi-max-frequency = <40000000>;
		reg = <0>;
		status = "okay";
	};
};

&i2c2 {
	adv_bridge: adv7535@3d {
		compatible = "adi,adv7533";
		reg = <0x3d>;
		adi,addr-cec = <0x3b>;
		adi,dsi-lanes = <4>;
		status = "okay";

		port {
			adv7535_from_dsim: endpoint {
				remote-endpoint = <&dsim_to_adv7535>;
			};
		};
	};

	rtc: rtc@6f {
		compatible = "microchip,mcp7940x";
		reg = <0x6f>;
	};

	/*	EEPROM CHIP 24AA32A-I/SN	*/
	eeprom: eeprom@52 {
		compatible = "atmel,24c32";
		reg = <0x52>;
		status = "okay";
	};

	imx219: imx219_mipi@10 {
		status = "okay";
		compatible = "sony,imx219";
		reg = <0x10>;
		//rotation = <180>;
                clocks = <&clk IMX8MP_CLK_IPP_DO_CLKO2>;
                clock-names = "xclk";
                assigned-clocks = <&clk IMX8MP_CLK_IPP_DO_CLKO2>;
                assigned-clock-parents = <&clk IMX8MP_CLK_24M>;
                assigned-clock-rates = <24000000>;

		VANA-supply = <&reg_2p8v>;      /* 2.8v */
		VDIG-supply = <&reg_1p8v>;   /* 1.8v */
		VDDL-supply = <&reg_1p2v>;   /* 1.2v */

		port {
			imx219_0_ep: endpoint {
				remote-endpoint = <&mipi_csi0_ep>;
				data-lanes = <1 2>;
				clock-lanes = <0>;
				// TBD for below properties
				clock-noncontinuous;
				link-frequencies = /bits/ 64 <456000000>;
			};
		};
	};

	codec: sgtl5000@a {
		#sound-dai-cells = <0>;
		compatible = "fsl,sgtl5000";
		reg = <0x0a>;
		VDDA-supply = <&reg_v_3v3>;
		VDDIO-supply = <&reg_v_1v8>;
		VDDD-supply = <&reg_v_1v8>;
		clocks = <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI3_MCLK1>;
		micbias-resistor-k-ohms = <2>;
		micbias-voltage-m-volts = <3000>;
	};

	/* ToDo: CSI1/2 , DSI */
};

&i2c3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c3>;
	clock-frequency = <100000>;
	status = "okay";

	sensor@48 {
		compatible = "ti,tmp75";
		reg = <0x48>;
	};

	typec_1: ptn5150@3d {
		compatible = "nxp,ptn5150";
		reg = <0x3d>;
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_usb1_vbus>;
		vbus-gpio = <&gpio1 11 GPIO_ACTIVE_HIGH>;
		status = "okay";
	};

	typec_2: ptn5150@1d {
		compatible = "nxp,ptn5150";
		reg = <0x1d>;
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_usb2_vbus>;
		vbus-gpio = <&gpio1 14 GPIO_ACTIVE_HIGH>;
		status = "okay";
	};

	/* ToDo: Pi, LVDS0/1 */
};

&i2c4 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c4>;
	clock-frequency = <100000>;
	status = "okay";

	sensor@48 {
		compatible = "ti,tmp75";
		reg = <0x48>;
	};

	gpio_exp_74: gpio@74 {
		compatible = "ti,tca9539";
		reg = <0x74>;
		gpio-controller;
		#gpio-cells = <2>;
		interrupt-controller;
		interrupt-parent = <&gpio3>;
		interrupts = <22 IRQ_TYPE_EDGE_FALLING>;
		vcc-supply = <&reg_v_3v3>;
		gpio-line-names =
			"PORT1_3V3_PWR_CTL", "nINT_PORT1",
			"PORT1_nRST", "GPIO_SPI_CTS_PORT1",
			"BOARD_ID_1", "BOARD_ID_2", "BOARD_ID_3",
			"BOARD_ID_4", "LTE_IGT", "LTE_RADIO_USB_CTRL",
			"LTE_PWR_EN", "LTE_EMERGENCY_OFF", "LTE_UART_DTR",
			"LTE_VDD5V_EN",	"LTE_GPIO_1", "LTE_RING_WAKEUP";
	};

	gpio_exp_75: gpio@75 {
		compatible = "ti,tca9539";
		reg = <0x75>;
		gpio-controller;
		#gpio-cells = <2>;
		interrupt-controller;
		interrupt-parent = <&gpio3>;
		interrupts = <23 IRQ_TYPE_EDGE_FALLING>;
		vcc-supply = <&reg_v_3v3>;
		gpio-line-names =
			"LVDS0_3V3_RST", "LVDS0_UPDN",
			"LVDS0_SHLR", "LVDS0_ID",
			"LVDS1_3V3_RST", "LVDS1_UPDN",
			"LVDS1_SHLR", "LVDS1_ID",
			"EXP2_UART_nRST", "ADC_GPIO", "CSI2_GPIO",
			"CSI1_GPIO", "DSI_GPIO", "EXP1_UART_nRST",
			"NC1", "NC2";
	};

	led_expander: led-controller@21 {
		compatible = "ti,tca6408";
		reg = <0x21>;
		vcc-supply = <&reg_v_3v3>;
		gpio-controller;
		#gpio-cells = <2>;
	};
};

&iomuxc {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_hog>;

	pinctrl_hog: hoggrp {
		fsl,pins = <
			MX8MP_IOMUXC_HDMI_DDC_SCL__HDMIMIX_HDMI_SCL	0x400001c3
			MX8MP_IOMUXC_HDMI_DDC_SDA__HDMIMIX_HDMI_SDA	0x400001c3
			MX8MP_IOMUXC_HDMI_HPD__HDMIMIX_HDMI_HPD		0x40000019
			MX8MP_IOMUXC_HDMI_CEC__HDMIMIX_HDMI_CEC		0x40000019
			MX8MP_IOMUXC_GPIO1_IO12__GPIO1_IO12	0x41
		>;
	};

	pinctrl_beeper_pwm: beeperpwmgrp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO10__PWM3_OUT	0x6
		>;
	};

	pinctrl_bt: btgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_MCLK__GPIO3_IO25	0x19
		>;
	};

	pinctrl_gpio_led: gpioledgrp {
		fsl,pins = <
			MX8MP_IOMUXC_NAND_READY_B__GPIO3_IO16	0x19
		>;
	};

	pinctrl_eqos: eqosgrp {
		fsl,pins = <
			MX8MP_IOMUXC_ENET_MDC__ENET_QOS_MDC	0x3
			MX8MP_IOMUXC_ENET_MDIO__ENET_QOS_MDIO	0x3
			MX8MP_IOMUXC_ENET_RD0__ENET_QOS_RGMII_RD0	0x91
			MX8MP_IOMUXC_ENET_RD1__ENET_QOS_RGMII_RD1	0x91
			MX8MP_IOMUXC_ENET_RD2__ENET_QOS_RGMII_RD2	0x91
			MX8MP_IOMUXC_ENET_RD3__ENET_QOS_RGMII_RD3	0x91
			MX8MP_IOMUXC_ENET_RXC__CCM_ENET_QOS_CLOCK_GENERATE_RX_CLK	0x91
			MX8MP_IOMUXC_ENET_RX_CTL__ENET_QOS_RGMII_RX_CTL	0x91
			MX8MP_IOMUXC_ENET_TD0__ENET_QOS_RGMII_TD0		0x1f
			MX8MP_IOMUXC_ENET_TD1__ENET_QOS_RGMII_TD1		0x1f
			MX8MP_IOMUXC_ENET_TD2__ENET_QOS_RGMII_TD2		0x1f
			MX8MP_IOMUXC_ENET_TD3__ENET_QOS_RGMII_TD3		0x1f
			MX8MP_IOMUXC_ENET_TX_CTL__ENET_QOS_RGMII_TX_CTL	0x1f
			MX8MP_IOMUXC_ENET_TXC__CCM_ENET_QOS_CLOCK_GENERATE_TX_CLK	0x1f
			MX8MP_IOMUXC_SAI2_RXC__GPIO4_IO22		0x19
		>;
	};

	pinctrl_ecspi1: ecspi1grp {
		fsl,pins = <
			MX8MP_IOMUXC_ECSPI1_SCLK__ECSPI1_SCLK	0x82
			MX8MP_IOMUXC_ECSPI1_MISO__ECSPI1_MISO	0x82
			MX8MP_IOMUXC_ECSPI1_MOSI__ECSPI1_MOSI	0x82
			MX8MP_IOMUXC_ECSPI1_SS0__ECSPI1_SS0	0x82
			MX8MP_IOMUXC_GPIO1_IO01__GPIO1_IO01	0x82
		>;
	};

	pinctrl_ecspi2: ecspi2grp {
		fsl,pins = <
			MX8MP_IOMUXC_ECSPI2_SCLK__ECSPI2_SCLK	0x82
			MX8MP_IOMUXC_ECSPI2_MISO__ECSPI2_MISO	0x82
			MX8MP_IOMUXC_ECSPI2_MOSI__ECSPI2_MOSI	0x82
			MX8MP_IOMUXC_ECSPI2_SS0__GPIO5_IO13	0x400000
		>;
	};

	pinctrl_uart_exp1_int: uartexp1grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_RXFS__GPIO4_IO00	0x19
		>;
	};

	pinctrl_uart_exp2_int: uartexp2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_TXD7__GPIO4_IO19	0x19
		>;
	};

	pinctrl_fec: fecgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_RXD2__ENET1_MDC		0x3
			MX8MP_IOMUXC_SAI1_RXD3__ENET1_MDIO		0x3
			MX8MP_IOMUXC_SAI1_RXD4__ENET1_RGMII_RD0		0x91
			MX8MP_IOMUXC_SAI1_RXD5__ENET1_RGMII_RD1		0x91
			MX8MP_IOMUXC_SAI1_RXD6__ENET1_RGMII_RD2		0x91
			MX8MP_IOMUXC_SAI1_RXD7__ENET1_RGMII_RD3		0x91
			MX8MP_IOMUXC_SAI1_TXC__ENET1_RGMII_RXC		0x91
			MX8MP_IOMUXC_SAI1_TXFS__ENET1_RGMII_RX_CTL	0x91
			MX8MP_IOMUXC_SAI1_TXD0__ENET1_RGMII_TD0		0x1f
			MX8MP_IOMUXC_SAI1_TXD1__ENET1_RGMII_TD1		0x1f
			MX8MP_IOMUXC_SAI1_TXD2__ENET1_RGMII_TD2		0x1f
			MX8MP_IOMUXC_SAI1_TXD3__ENET1_RGMII_TD3		0x1f
			MX8MP_IOMUXC_SAI1_TXD4__ENET1_RGMII_TX_CTL	0x1f
			MX8MP_IOMUXC_SAI1_TXD5__ENET1_RGMII_TXC		0x1f
			MX8MP_IOMUXC_SAI1_RXD0__GPIO4_IO02		0x19
		>;
	};

	pinctrl_flexcan1: flexcan1grp {
		fsl,pins = <
			MX8MP_IOMUXC_SPDIF_RX__CAN1_RX          0x154
			MX8MP_IOMUXC_SPDIF_TX__CAN1_TX          0x154
		>;
	};

	pinctrl_flexcan2: flexcan2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_MCLK__CAN2_RX         0x154
			MX8MP_IOMUXC_SAI5_RXD3__CAN2_TX         0x154
		>;
	};

	pinctrl_flexcan1_reg: flexcan1reggrp {
		fsl,pins = <
			MX8MP_IOMUXC_SPDIF_EXT_CLK__GPIO5_IO05  0x154   /* CAN1_STBY */
		>;
	};

	pinctrl_flexcan2_reg: flexcan2reggrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI2_MCLK__GPIO4_IO27      0x154   /* CAN2_STBY */
		>;
	};

	pinctrl_flexspi0: flexspi0grp {
		fsl,pins = <
			MX8MP_IOMUXC_NAND_ALE__FLEXSPI_A_SCLK	0x1c2
			MX8MP_IOMUXC_NAND_CE0_B__FLEXSPI_A_SS0_B	0x82
			MX8MP_IOMUXC_NAND_DATA00__FLEXSPI_A_DATA00		0x82
			MX8MP_IOMUXC_NAND_DATA01__FLEXSPI_A_DATA01		0x82
			MX8MP_IOMUXC_NAND_DATA02__FLEXSPI_A_DATA02		0x82
			MX8MP_IOMUXC_NAND_DATA03__FLEXSPI_A_DATA03		0x82
		>;
	};

	pinctrl_gpio_led: gpioledgrp {
		fsl,pins = <
			MX8MP_IOMUXC_NAND_READY_B__GPIO3_IO16	0x19
		>;
	};

	pinctrl_i2c3: i2c3grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C3_SCL__I2C3_SCL		0x400001c3
			MX8MP_IOMUXC_I2C3_SDA__I2C3_SDA		0x400001c3
		>;
	};

	pinctrl_i2c4: i2c4grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C4_SCL__I2C4_SCL		0x400001c3
			MX8MP_IOMUXC_I2C4_SDA__I2C4_SDA		0x400001c3
		>;
	};

	pinctrl_sai3: sai3grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI3_RXD__AUDIOMIX_SAI3_RX_DATA00	0xd6
			MX8MP_IOMUXC_SAI3_TXFS__AUDIOMIX_SAI3_TX_SYNC	0xd6
			MX8MP_IOMUXC_SAI3_TXC__AUDIOMIX_SAI3_TX_BCLK	0xd6
			MX8MP_IOMUXC_SAI3_TXD__AUDIOMIX_SAI3_TX_DATA00	0xd6
			MX8MP_IOMUXC_SAI3_MCLK__AUDIOMIX_SAI3_MCLK	0xd6

			/* Confirm: This pin has multiple connections */
			/*                |--- U87 --> GPIO_RAS PI_13 */
			/*   SAI3_MCLK ---|                           */
			/*                |--- U54 --> SYS_MCLK       */
			/*
			MX8MP_IOMUXC_SAI3_MCLK__AUDIOMIX_SAI3_MCLK	0xd6
			*/
		>;
	};

	pinctrl_reg_usdhc2_vmmc: regusdhc2vmmcgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_RESET_B__GPIO2_IO19	0x41
		>;
	};

	pinctrl_uart1: uart1grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART1_RXD__UART1_DCE_RX	0x140
			MX8MP_IOMUXC_UART1_TXD__UART1_DCE_TX	0x140
			MX8MP_IOMUXC_UART3_RXD__UART1_DCE_CTS	0x140
			MX8MP_IOMUXC_UART3_TXD__UART1_DCE_RTS	0x140
		>;
	};

	pinctrl_uart2: uart2grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART2_RXD__UART2_DCE_RX	0x49
			MX8MP_IOMUXC_UART2_TXD__UART2_DCE_TX	0x49
		>;
	};

	pinctrl_uart3: uart3grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_DATA6__UART3_DCE_TX	0x49
			MX8MP_IOMUXC_SD1_DATA7__UART3_DCE_RX	0x49
		>;
	};

	pinctrl_uart4: uart4grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART4_RXD__UART4_DCE_RX	0x49
			MX8MP_IOMUXC_UART4_TXD__UART4_DCE_TX	0x49
		>;
	};

	pinctrl_uart_exp2_int: uartexp2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_TXD7__GPIO4_IO19	0x19
		>;
	};

	pinctrl_usb1_vbus: usb1grp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO11__GPIO1_IO11	0x19
		>;
	};

	pinctrl_usb2_vbus: usb2grp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO14__GPIO1_IO14	0x19
		>;
	};

	pinctrl_usdhc1: usdhc1grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_CLK__USDHC1_CLK	0x190
			MX8MP_IOMUXC_SD1_CMD__USDHC1_CMD	0x1d0
			MX8MP_IOMUXC_SD1_DATA0__USDHC1_DATA0	0x1d0
			MX8MP_IOMUXC_SD1_DATA1__USDHC1_DATA1	0x1d0
			MX8MP_IOMUXC_SD1_DATA2__USDHC1_DATA2	0x1d0
			MX8MP_IOMUXC_SD1_DATA3__USDHC1_DATA3	0x1d0
			MX8MP_IOMUXC_SAI5_RXD3__GPIO3_IO24	0x19
		>;
	};

	pinctrl_usdhc1_100mhz: usdhc1-100mhzgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_CLK__USDHC1_CLK	0x194
			MX8MP_IOMUXC_SD1_CMD__USDHC1_CMD	0x1d4
			MX8MP_IOMUXC_SD1_DATA0__USDHC1_DATA0	0x1d4
			MX8MP_IOMUXC_SD1_DATA1__USDHC1_DATA1	0x1d4
			MX8MP_IOMUXC_SD1_DATA2__USDHC1_DATA2	0x1d4
			MX8MP_IOMUXC_SD1_DATA3__USDHC1_DATA3	0x1d4
			MX8MP_IOMUXC_SAI5_RXD3__GPIO3_IO24	0x19
		>;
	};

	pinctrl_usdhc1_200mhz: usdhc1-200mhzgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_CLK__USDHC1_CLK	0x196
			MX8MP_IOMUXC_SD1_CMD__USDHC1_CMD	0x1d6
			MX8MP_IOMUXC_SD1_DATA0__USDHC1_DATA0	0x1d6
			MX8MP_IOMUXC_SD1_DATA1__USDHC1_DATA1	0x1d6
			MX8MP_IOMUXC_SD1_DATA2__USDHC1_DATA2	0x1d6
			MX8MP_IOMUXC_SD1_DATA3__USDHC1_DATA3	0x1d6
			MX8MP_IOMUXC_SAI5_RXD3__GPIO3_IO24	0x19
		>;
	};

	pinctrl_usdhc2: usdhc2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x190
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d0
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d0
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d0
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d0
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d0
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT	0xc1
		>;
	};

	pinctrl_usdhc2_100mhz: usdhc2-100mhzgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x194
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d4
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d4
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d4
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d4
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d4
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT 0xc1
		>;
	};

	pinctrl_usdhc2_200mhz: usdhc2-200mhzgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x196
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d6
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d6
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d6
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d6
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d6
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT 0xc1
		>;
	};

	pinctrl_usdhc2_gpio: usdhc2gpiogrp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CD_B__GPIO2_IO12	0x1c4
		>;
	};

	pinctrl_wdog: wdoggrp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO02__WDOG1_WDOG_B	0x166
		>;
	};
};

&ocotp {
	eth_mac2: mac-address@94 {
		reg = <0x94 6>;
	};
};

&pwm3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_beeper_pwm>;
	status = "okay";
};

&sai3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_sai3>;
	assigned-clocks = <&clk IMX8MP_CLK_SAI3>;
	assigned-clock-parents = <&clk IMX8MP_AUDIO_PLL1_OUT>;
	assigned-clock-rates = <12288000>;
	fsl,sai-mclk-direction-output;
	status = "okay";
};

&snvs_pwrkey {
	status = "okay";
};

&uart1 {
	/* BT UART */
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart1 &pinctrl_bt>;
	status = "okay";
	fsl,uart-has-rtscts;

	bluetooth {
		compatible = "brcm,bcm4330-bt";
		shutdown-gpios = <&gpio3 25 GPIO_ACTIVE_HIGH>;
	};
};

&uart2 {
	/* ARM53 debug console */
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart2>;
	status = "okay";
};

&uart3 {
	/* RS-232 port */
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart3>;
	status = "okay";
};

&uart4 {
	/* ARM M7 debug console */
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart4>;
	status = "okay";
};

&usb3_phy0 {
	status = "okay";
};

&usb3_0 {
	status = "okay";
};

&usb_dwc3_0 {
	dr_mode = "otg";
	status = "okay";

	extcon = <&typec_1>;
};

&usb3_phy1 {
	status = "okay";
};

&usb3_1 {
	status = "okay";
};

&usb_dwc3_1 {
	dr_mode = "host";
	status = "okay";
};

&usdhc1 {
	pinctrl-names = "default", "state_100mhz", "state_200mhz";
	pinctrl-0 = <&pinctrl_usdhc1>;
	pinctrl-1 = <&pinctrl_usdhc1_100mhz>;
	pinctrl-2 = <&pinctrl_usdhc1_200mhz>;
	vmmc-supply = <&reg_wifi_power>;
	bus-width = <4>;
	non-removable;
	keep-power-in-suspend;
	enable-sdio-wakeup;
	status = "okay";

	wifi@1 {
		compatible = "brcm,bcm4329-fmac";
		reg = <1>;
	};
};

&usdhc2 {
	assigned-clocks = <&clk IMX8MP_CLK_USDHC2>;
	assigned-clock-rates = <400000000>;
	pinctrl-names = "default", "state_100mhz", "state_200mhz";
	pinctrl-0 = <&pinctrl_usdhc2>, <&pinctrl_usdhc2_gpio>;
	pinctrl-1 = <&pinctrl_usdhc2_100mhz>, <&pinctrl_usdhc2_gpio>;
	pinctrl-2 = <&pinctrl_usdhc2_200mhz>, <&pinctrl_usdhc2_gpio>;
	cd-gpios = <&gpio2 12 GPIO_ACTIVE_LOW>;
	vmmc-supply = <&reg_usdhc2_vmmc>;
	bus-width = <4>;
	status = "okay";
};

&wdog1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_wdog>;
	fsl,ext-reset-output;
	status = "okay";
};

&mipi_csi_0 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";

	port@0 {
		reg = <0>;
		mipi_csi0_ep: endpoint {
			remote-endpoint = <&imx219_0_ep>;
			data-lanes = <2>;
			csis-hs-settle = <13>;
			csis-clk-settle = <2>;
			csis-wclk;
		};
	};
};

&cameradev {
	status = "okay";
};

&isi_0 {
	status = "okay";

	cap_device {
		status = "okay";
	};

	m2m_device {
		status = "okay";
	};
};

&isi_1 {
	status = "disabled";

	cap_device {
		status = "disabled";
	};
};
